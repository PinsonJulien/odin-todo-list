(()=>{"use strict";var t={46:(t,e,o)=>{o.d(e,{Z:()=>s});var n=o(81),r=o.n(n),i=o(645),a=o.n(i),c=o(538),u=a()(r());u.i(c.Z),u.push([t.id,"@import url(https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap);"]),u.push([t.id,"@import url(https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200);"]),u.push([t.id,'#layout{width:100%;height:100%;display:grid;grid-template-columns:auto 1fr;grid-template-rows:auto 1fr auto;grid-template-areas:"header header" "aside main" "footer footer"}#layout>header{grid-area:header;display:grid;grid-template-columns:1fr 1fr;grid-template-areas:"left right"}#layout>header>div{margin:auto 0 auto 0}#layout>header>div:first-child{font-weight:700;font-size:1.4em;grid-area:left}#layout>header>div:last-child{grid-area:right;margin:auto 0 auto auto}#layout>header>div:last-child>button:has(svg.burger)>svg{stroke:#e5e5e5;stroke-width:.15em}#layout>header>div:last-child>button:has(svg.burger)>svg>path{transition:opacity 1s}#layout>header>div:last-child>button:has(svg.burger).active>svg,#layout>header>div:last-child>button:has(svg.burger):hover>svg{stroke:#f5f5f5}#layout>header>div:last-child>button:has(svg.burger).active>svg>path:first-child,#layout>header>div:last-child>button:has(svg.burger).active>svg>path:last-child,#layout>header>div:last-child>button:has(svg.burger):hover>svg>path:first-child,#layout>header>div:last-child>button:has(svg.burger):hover>svg>path:last-child{opacity:0}#layout>aside{grid-area:aside;background-color:#e5e5e5;padding:1em;color:#171717;font-size:1em;font-weight:500;min-width:150px}#layout>aside>nav{display:flex;flex-direction:column;gap:1em}#layout>aside>nav>.menu{display:flex;flex-direction:column;gap:1em}#layout>aside>nav>.menu>p{font-size:1.4em}#layout>aside>nav>.menu>ul{display:flex;flex-direction:column;gap:1em}#layout>aside>nav>.menu>ul>li{border-radius:10px;background-color:#f5f5f5;height:fit-content;display:flex}#layout>aside>nav>.menu>ul>li a{width:100%;padding:.5em;text-decoration:none;color:inherit}#layout>aside>nav>.menu>ul li:has(a.active),#layout>aside>nav>.menu>ul li:hover{background-color:#d4d4d4}#layout>main{grid-area:main;padding:2em}#layout>footer{grid-area:footer;text-align:center}#layout>header,#layout>footer{background-color:#404040;color:#f5f5f5;padding:2em}@media only screen and (min-width: 0px)and (max-width: 640px){#layout>aside:not(.active){display:none}}@media only screen and (min-width: 640px){#layout>header button:has(.burger){display:none !important}}.todo-page{display:flex;flex-direction:column;gap:1em}.todo-page>h1{font-size:1.8em}.todo-page .todo-form{margin:0 auto 0 auto;width:50%;display:flex;flex-direction:column;gap:.5em}.todo-page .todo-form>.form-field{display:flex;flex-direction:column;gap:.5em}.todo-page>ul{display:flex;flex-direction:row;gap:1.2em}.todo-page>ul>li:first-child{margin:auto}.todo-page>ul>.todo-list-item>div{display:grid;grid-template-columns:auto;grid-template-rows:auto;grid-template-areas:"name" "project" "due-date" "priority" "actions";gap:1em}.todo-page>ul>.todo-list-item>div>.name{grid-area:name;color:red}.todo-page>ul>.todo-list-item>div>.due-date{grid-area:due-date}.todo-page>ul>.todo-list-item>div>.priority{grid-area:priority}.todo-page>ul>.todo-list-item>div>.project{grid-area:project}.todo-page>ul>.todo-list-item>div>.actions{grid-area:actions;display:flex;width:100%}.todo-page>ul>.todo-list-item>div>.actions button{width:100%}.todo-page>ul>.todo-list-item>div>.actions button svg{height:50px;width:50px;stroke:#525252;stroke-width:.15em}#error-404{padding-top:3em;height:100%;display:flex;flex-direction:column;text-align:center;gap:2em}#error-404>h1{text-transform:uppercase;font-size:2.5em;font-weight:700}#error-404>p{font-size:2em;font-weight:500}body{font-family:"Roboto",sans-serif;background-color:#f5f5f5;color:#404040;width:100vw;height:100vh;overflow-x:hidden;text-transform:capitalize}button{display:flex;cursor:pointer}button:has(svg){padding:0;background-color:inherit;border:none}button:has(svg) svg{aspect-ratio:1/1}',""]);const s=u},538:(t,e,o)=>{o.d(e,{Z:()=>c});var n=o(81),r=o.n(n),i=o(645),a=o.n(i)()(r());a.push([t.id,"/* http://meyerweb.com/eric/tools/css/reset/ \n   v2.0 | 20110126\n   License: none (public domain)\n*/\n\nhtml, body, div, span, applet, object, iframe,\nh1, h2, h3, h4, h5, h6, p, blockquote, pre,\na, abbr, acronym, address, big, cite, code,\ndel, dfn, em, img, ins, kbd, q, s, samp,\nsmall, strike, strong, sub, sup, tt, var,\nb, u, i, center,\ndl, dt, dd, ol, ul, li,\nfieldset, form, label, legend,\ntable, caption, tbody, tfoot, thead, tr, th, td,\narticle, aside, canvas, details, embed, \nfigure, figcaption, footer, header, hgroup, \nmenu, nav, output, ruby, section, summary,\ntime, mark, audio, video {\n\tmargin: 0;\n\tpadding: 0;\n\tborder: 0;\n\tfont-size: 100%;\n\tfont: inherit;\n\tvertical-align: baseline;\n}\n/* HTML5 display-role reset for older browsers */\narticle, aside, details, figcaption, figure, \nfooter, header, hgroup, menu, nav, section {\n\tdisplay: block;\n}\nbody {\n\tline-height: 1;\n}\nol, ul {\n\tlist-style: none;\n}\nblockquote, q {\n\tquotes: none;\n}\nblockquote:before, blockquote:after,\nq:before, q:after {\n\tcontent: '';\n\tcontent: none;\n}\ntable {\n\tborder-collapse: collapse;\n\tborder-spacing: 0;\n}",""]);const c=a},645:t=>{t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var o="",n=void 0!==e[5];return e[4]&&(o+="@supports (".concat(e[4],") {")),e[2]&&(o+="@media ".concat(e[2]," {")),n&&(o+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),o+=t(e),n&&(o+="}"),e[2]&&(o+="}"),e[4]&&(o+="}"),o})).join("")},e.i=function(t,o,n,r,i){"string"==typeof t&&(t=[[null,t,void 0]]);var a={};if(n)for(var c=0;c<this.length;c++){var u=this[c][0];null!=u&&(a[u]=!0)}for(var s=0;s<t.length;s++){var l=[].concat(t[s]);n&&a[l[0]]||(void 0!==i&&(void 0===l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=i),o&&(l[2]?(l[1]="@media ".concat(l[2]," {").concat(l[1],"}"),l[2]=o):l[2]=o),r&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=r):l[4]="".concat(r)),e.push(l))}},e}},81:t=>{t.exports=function(t){return t[1]}},379:t=>{var e=[];function o(t){for(var o=-1,n=0;n<e.length;n++)if(e[n].identifier===t){o=n;break}return o}function n(t,n){for(var i={},a=[],c=0;c<t.length;c++){var u=t[c],s=n.base?u[0]+n.base:u[0],l=i[s]||0,p="".concat(s," ").concat(l);i[s]=l+1;var f=o(p),d={css:u[1],media:u[2],sourceMap:u[3],supports:u[4],layer:u[5]};if(-1!==f)e[f].references++,e[f].updater(d);else{var h=r(d,n);n.byIndex=c,e.splice(c,0,{identifier:p,updater:h,references:1})}a.push(p)}return a}function r(t,e){var o=e.domAPI(e);return o.update(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;o.update(t=e)}else o.remove()}}t.exports=function(t,r){var i=n(t=t||[],r=r||{});return function(t){t=t||[];for(var a=0;a<i.length;a++){var c=o(i[a]);e[c].references--}for(var u=n(t,r),s=0;s<i.length;s++){var l=o(i[s]);0===e[l].references&&(e[l].updater(),e.splice(l,1))}i=u}}},569:t=>{var e={};t.exports=function(t,o){var n=function(t){if(void 0===e[t]){var o=document.querySelector(t);if(window.HTMLIFrameElement&&o instanceof window.HTMLIFrameElement)try{o=o.contentDocument.head}catch(t){o=null}e[t]=o}return e[t]}(t);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");n.appendChild(o)}},216:t=>{t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},565:(t,e,o)=>{t.exports=function(t){var e=o.nc;e&&t.setAttribute("nonce",e)}},795:t=>{t.exports=function(t){var e=t.insertStyleElement(t);return{update:function(o){!function(t,e,o){var n="";o.supports&&(n+="@supports (".concat(o.supports,") {")),o.media&&(n+="@media ".concat(o.media," {"));var r=void 0!==o.layer;r&&(n+="@layer".concat(o.layer.length>0?" ".concat(o.layer):""," {")),n+=o.css,r&&(n+="}"),o.media&&(n+="}"),o.supports&&(n+="}");var i=o.sourceMap;i&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleTagTransform(n,t,e.options)}(e,t,o)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}},589:t=>{t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}}},e={};function o(n){var r=e[n];if(void 0!==r)return r.exports;var i=e[n]={id:n,exports:{}};return t[n](i,i.exports,o),i.exports}o.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return o.d(e,{a:e}),e},o.d=(t,e)=>{for(var n in e)o.o(e,n)&&!o.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},o.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),o.nc=void 0,(()=>{var t=o(379),e=o.n(t),n=o(795),r=o.n(n),i=o(569),a=o.n(i),c=o(565),u=o.n(c),s=o(216),l=o.n(s),p=o(589),f=o.n(p),d=o(46),h={};h.styleTagTransform=f(),h.setAttributes=u(),h.insert=a().bind(null,"head"),h.domAPI=r(),h.insertStyleElement=l(),e()(d.Z,h),d.Z&&d.Z.locals&&d.Z.locals;const y=function(){function t(t){this.root=t}return t.prototype.getRoot=function(){return this.root},t}();var v,g=(v=function(t,e){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},v(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=t}v(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});const m=function(t){function e(e,o,n){var r=t.call(this,document.createElement("input"))||this;return r.type=e,r.id=o,r.name=n,r.root.setAttribute("type",e),r.root.setAttribute("id",o),r.root.setAttribute("name",n),r}return g(e,t),e.prototype.getValue=function(){return this.root.value},e.prototype.setValue=function(t){this.root.value=t},e}(y);var w=function(){var t=function(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();const b=function(t){function e(e,o){return t.call(this,"date",e,o)||this}return w(e,t),e}(m);var _=function(){var t=function(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();const j=function(t){function e(e,o,n,r,i){var a=t.call(this,"range",e,o)||this;return a.min=n,a.max=r,a.step=i,a.root.setAttribute("min",n.toString()),a.root.setAttribute("max",r.toString()),a.root.setAttribute("step",i.toString()),a}return _(e,t),e}(m);var O=function(){var t=function(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();const P=function(t){function e(e,o){return t.call(this,"text",e,o)||this}return O(e,t),e}(m);var x=function(){var t=function(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),E=function(t){function e(e,o){var n=t.call(this,document.createElement("div"))||this;return n.root.classList.add("form-field"),n.label=e,n.control=o,n.root.append(n.label.getRoot(),n.control.getRoot()),n}return x(e,t),e.prototype.getLabel=function(){return this.label},e.prototype.getControl=function(){return this.control},e.prototype.getValue=function(){return this.control.getValue()},e.prototype.setValue=function(t){this.control.setValue(t)},e.prototype.setValid=function(t){},e}(y);const C=E;var S=function(){var t=function(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();const A=function(t){function e(e,o){var n=t.call(this,document.createElement("label"))||this;return n.text=e,n.forTarget=o,n.root.textContent=e,n.root.setAttribute("for",o),n}return S(e,t),e}(y);var D=function(){var t=function(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();const T=function(t){function e(){var e=t.call(this,document.createElementNS("http://www.w3.org/2000/svg","svg"))||this;return e.root.setAttribute("xmlns","http://www.w3.org/2000/svg"),e.root.setAttribute("viewBox","0 0 50 50"),e.root.setAttribute("stroke","black"),e.root.setAttribute("strokeWidth","5"),e.root.setAttribute("fill","none"),e.root.setAttribute("width","32px"),e.root.setAttribute("height","32px"),e}return D(e,t),e}(y);var L=function(){var t=function(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();const k=function(t){function e(){var e=t.call(this)||this;return e.root.classList.add("delete"),e.root.setAttribute("fill",""),e.root.innerHTML='\n      <path \n        d="M13.05 42q-1.25 0-2.125-.875T10.05 39V10.5H8v-3h9.4V6h13.2v1.5H40v3h-2.05V39q0 1.2-.9 2.1-.9.9-2.1.9Zm21.9-31.5h-21.9V39h21.9Zm-16.6 24.2h3V14.75h-3Zm8.3 0h3V14.75h-3Zm-13.6-24.2V39Z"\n      />\n      </path>\n    ',e}return L(e,t),e}(T);var R=function(){var t=function(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();const M=function(t){function e(){var e=t.call(this)||this;return e.root.classList.add("edit"),e.root.innerHTML='\n      <path \n        d="M9 39h2.2l22.15-22.15-2.2-2.2L9 36.8Zm30.7-24.3-6.4-6.4 2.1-2.1q.85-.85 2.1-.85t2.1.85l2.2 2.2q.85.85.85 2.1t-.85 2.1Zm-2.1 2.1L12.4 42H6v-6.4l25.2-25.2Zm-5.35-1.05-1.1-1.1 2.2 2.2Z"\n      />\n      </path>\n    ',e}return R(e,t),e}(T);var F=function(){var t=function(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();const N=function(t){function e(e,o,n){var r=t.call(this,e)||this;return r.currentSide=!1,r.frontComponent=o,r.backComponent=n,r.changeSide(!1),r}return F(e,t),e.prototype.changeSide=function(t){this.currentSide=t,this.root.replaceChildren(this.currentSide?this.backComponent.getRoot():this.frontComponent.getRoot())},e}(y);var V=function(){function t(t,e,o,n){this.setName(t),this.setDueDate(e),this.setPriority(o),this.setProject(n)}return t.prototype.setName=function(t){this.name=t},t.prototype.getName=function(){return this.name},t.prototype.setDueDate=function(t){this.dueDate=t},t.prototype.getDueDate=function(){return this.dueDate},t.prototype.setPriority=function(t){this.priority=t},t.prototype.getPriority=function(){return this.priority},t.prototype.setProject=function(t){this.project=t},t.prototype.getProject=function(){return this.project},t}(),B=function(){var t=function(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();const Z=function(t){function e(){return t.call(this,document.createElement("div"))||this}return B(e,t),e}(y);var q=function(){var t=function(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),H=function(t){function e(e,o){var n=t.call(this)||this;return n.todoController=o,n.root.classList.add("todo-page"),n.title=document.createElement("h1"),n.title.textContent=e,n.ulist=document.createElement("ul"),n.newTodo=new z(n.todoController,n),n.root.append(n.title,n.ulist),n}return q(e,t),e.prototype.refresh=function(){var t=this,e=this.fetch();this.ulist.replaceChildren(this.newTodo.getRoot()),e.forEach((function(e){t.ulist.appendChild(new I(e,t.todoController).getRoot())}))},e}(Z),z=function(t){function e(e,o){var n=t.call(this,document.createElement("li"),new y(document.createElement("div")),new U(e,(function(t){n.changeSide(!1),e.create(t)&&o.refresh()}),(function(){n.changeSide(!1)})))||this,r=document.createElement("button");return r.textContent="Add new",r.addEventListener("click",(function(t){n.changeSide(!0)})),n.frontComponent.getRoot().append(r),n}return q(e,t),e}(N),I=function(t){function e(e,o){var n=t.call(this,document.createElement("li"),new y(document.createElement("div")),new U(o,(function(t){n.update(t)}),(function(){n.changeSide(!1)})))||this;n.todoController=o,n.root.classList.add("todo-list-item"),n.name=document.createElement("p"),n.name.classList.add("name"),n.dueDate=document.createElement("p"),n.dueDate.classList.add("due-date"),n.priority=document.createElement("p"),n.priority.classList.add("priority"),n.project=document.createElement("p"),n.project.classList.add("project");var r=document.createElement("button");r.appendChild((new M).getRoot()),r.addEventListener("click",(function(t){n.changeSide(!0)}));var i=document.createElement("button");i.appendChild((new k).getRoot()),i.addEventListener("click",(function(t){n.todoController.delete(n.todo),n.root.remove()}));var a=document.createElement("div");return a.classList.add("actions"),a.append(r,i),n.frontComponent.getRoot().append(n.name,n.dueDate,n.priority,n.project,a),n.setTodo(e),n}return q(e,t),e.prototype.setTodo=function(t){this.todo=t,this.name.textContent=this.todo.getName(),this.dueDate.textContent=this.todo.getDueDate().toDateString(),this.priority.textContent=this.todo.getPriority().toString(),this.project.textContent=this.todo.getProject(),this.backComponent.setFields(t)},e.prototype.update=function(t){this.changeSide(!1),this.todoController.update(this.todo,t)&&this.setTodo(t)},e}(N),U=function(t){function e(e,o,n){var r=t.call(this,document.createElement("form"))||this;r.todoController=e,r.submit=o,r.cancel=n,r.root.classList.add("todo-form"),r.root.setAttribute("method","post"),r.nameField=new C(new A("Name:","name"),new P("name","name")),r.dueDateField=new C(new A("Due date:","dueDate"),new b("dueDate","dueDate")),r.priorityField=new C(new A("Priority:","priority"),new j("priority","priority",0,5,1)),r.projectField=new C(new A("Project:","project"),new P("project","project"));var i=document.createElement("button");i.textContent="Submit";var a=document.createElement("button");a.textContent="Cancel",a.type="button",a.addEventListener("click",(function(t){t.preventDefault(),r.cancel()}));var c=document.createElement("div");return c.classList.add("actions"),c.append(i,a),r.root.append(r.nameField.getRoot(),r.dueDateField.getRoot(),r.priorityField.getRoot(),r.projectField.getRoot(),c),r.root.addEventListener("submit",(function(t){t.preventDefault(),r.validation()})),r}return q(e,t),e.prototype.setFields=function(t){this.nameField.setValue(t.getName()),this.dueDateField.getControl().getRoot().valueAsDate=t.getDueDate(),this.priorityField.setValue(t.getPriority().toString()),this.projectField.setValue(t.getProject())},e.prototype.validation=function(){var t=!1,e=this.nameField.getValue(),o=new Date(this.dueDateField.getValue()),n=Number(this.priorityField.getValue()),r=this.projectField.getValue();if(this.todoController.validateName(e)||(t=!0),this.todoController.validateDueDate(o)||(t=!0),this.todoController.validatePriority(n)||(t=!0),this.todoController.validateProject(r)||(t=!0),!t){var i=new V(e,o,n,r);this.submit(i)}},e}(y),J=function(){var t=function(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Y=function(t){function e(e,o){var n=t.call(this,e,o)||this;return n.project=e,n}return J(e,t),e.prototype.fetch=function(){return this.todoController.fetchByProject(this.project)},e}(H);function G(t){return new Blob([t]).size}const W=function(){function t(t,e,o){this.factory=t,this.key=e,this.sortingRule=o,this.values=this.read()}return t.prototype.getValues=function(){return this.values},t.prototype.find=function(t){return this.values.findIndex((function(e){return e===t}))},t.prototype.read=function(){var t=this,e=window.localStorage.getItem(this.key),o=[];return e?(JSON.parse(e).forEach((function(e){o.push(t.factory(e))})),o):[]},t.prototype.insert=function(t){return!!this.canBeStored(t)&&(this.values.push(t),this.sort(),this.save(),!0)},t.prototype.update=function(t,e){var o=this.find(t);return!(o<0||(this.values[o]=e,this.save(),0))},t.prototype.delete=function(t){var e=this.find(t);return!(e<0||(this.values.splice(e,1),this.save(),0))},t.prototype.save=function(){window.localStorage.setItem(this.key,JSON.stringify(this.values))},t.prototype.sort=function(){this.values.sort(this.sortingRule)},t.prototype.canBeStored=function(t){return this.getRemainingSpace()-G(JSON.stringify(t))>0},t.prototype.getRemainingSpace=function(){return 5e6-G(JSON.stringify(window.localStorage))},t}();var K=function(){var t=function(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();const Q=function(t){function e(){return t.call(this,(function(t){return new V(t.name,new Date(t.dueDate),t.priority,t.project)}),"todo",(function(t,e){return t.getDueDate().getTime()-e.getDueDate().getTime()}))||this}return K(e,t),e}(W);const X=function(t,e,o){this.name=t,this.path=e,this.page=o};var $=function(){function t(t,e){var o,n=this;this.projectsMenu=t,this.router=e,this.todoLocalStorage=new Q;var r=this.getProjects();(o=this.router).insert.apply(o,r.map((function(t){return new X(t,"/projects/".concat(t),new Y(t,n))}))),this.refreshProjectsMenu()}return t.prototype.fetchAll=function(){return this.todoLocalStorage.getValues()},t.prototype.fetchByProject=function(t){return this.fetchAll().filter((function(e){return e.getProject()===t}))},t.prototype.fetchByDate=function(t){return this.fetchAll().filter((function(e){var o=e.getDueDate();return o.getDate()===t.getDate()&&o.getMonth()===t.getMonth()&&o.getFullYear()===t.getFullYear()}))},t.prototype.fetchByDateRange=function(t,e){return this.fetchAll().filter((function(o){var n=o.getDueDate().getTime();return n>=t.getTime()&&n<=e.getTime()}))},t.prototype.create=function(t){return!!this.validate(t)&&(this.todoLocalStorage.insert(t),this.routerUpdate(t,"create"),!0)},t.prototype.update=function(t,e){return!!this.validate(e)&&(this.todoLocalStorage.update(t,e),t.getProject()!==e.getProject()&&(this.getProjects(),this.routerUpdate(t,"delete"),this.routerUpdate(e,"create")),!0)},t.prototype.delete=function(t){return this.todoLocalStorage.delete(t),this.routerUpdate(t,"delete"),!0},t.prototype.validate=function(t){return this.validateName(t.getName())||this.validateDueDate(t.getDueDate())||this.validatePriority(t.getPriority())||this.validateProject(t.getProject())},t.prototype.validateName=function(t){return!0},t.prototype.validateDueDate=function(t){return!isNaN(t.getTime())},t.prototype.validatePriority=function(t){return!0},t.prototype.validateProject=function(t){return!0},t.prototype.getProjects=function(){var t=[];return this.fetchAll().forEach((function(e){var o=e.getProject();""===o||t.includes(o)||t.push(o)})),t.sort(),t},t.prototype.refreshProjectsMenu=function(){var t,e=this,o=this.getProjects().map((function(t){return e.router.getByPath("/projects/".concat(t))}));this.projectsMenu.clear(),(t=this.projectsMenu).insert.apply(t,o)},t.prototype.routerUpdate=function(t,e){var o=t.getProject();switch(e){case"create":return void(""===o||this.router.getByPath("/projects/".concat(o))||(this.router.insert(new X(o,"/projects/".concat(o),new Y(o,this))),this.refreshProjectsMenu()));case"delete":var n=this.getProjects();if(""!==o&&!n.includes(o)){var r=this.router.deleteByPath("/projects/".concat(o));this.projectsMenu.remove(r)}return}},t}(),tt=function(){var t=function(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();const et=function(t){function e(){for(var e=[],o=0;o<arguments.length;o++)e[o]=arguments[o];var n=t.call(this,document.createElement("div"))||this;return n.root.classList.add("menu"),n.ul=document.createElement("ul"),n.root.appendChild(n.ul),n.insert.apply(n,e),n}return tt(e,t),e.prototype.insert=function(){for(var t=this,e=[],o=0;o<arguments.length;o++)e[o]=arguments[o];e.forEach((function(e){var o=document.createElement("li");o.appendChild(e.getRoot()),t.ul.appendChild(o)}))},e.prototype.remove=function(t){t.getRoot().parentElement.remove()},e.prototype.clear=function(){this.ul.replaceChildren()},e}(y);var ot=function(){var t=function(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();const nt=function(t){function e(){var e=t.call(this)||this,o=document.createElement("p");return o.textContent="Projects",e.root.prepend(o),e}return ot(e,t),e}(et);var rt=function(){var t=function(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();const it=function(t){function e(){var e=t.call(this,document.createElement("div"))||this;e.header=document.createElement("header"),e.aside=document.createElement("aside"),e.main=document.createElement("main"),e.footer=document.createElement("footer"),e.root.setAttribute("id","layout"),e.root.append(e.header,e.aside,e.main,e.footer);var o=document.createElement("div"),n=document.createElement("div"),r=document.createElement("p");r.textContent="Odin - Todo List";var i=document.createElement("button");i.innerHTML='\n    <span class="material-symbols-outlined">\nmenu\n</span>',i.addEventListener("click",(function(){i.classList.toggle("active"),e.aside.classList.toggle("active")})),o.append(r),n.append(i),e.header.append(o,n);var a=document.createElement("nav");e.aside.append(a),e.menu=new et,e.menuProjects=new nt,a.append(e.menu.getRoot(),e.menuProjects.getRoot());var c=document.createElement("p");return c.textContent="Created by Julien Pinson for The Odin Project, 2022 ",e.footer.append(c),e}return rt(e,t),e.prototype.getMain=function(){return this.main},e.prototype.getMenu=function(){return this.menu},e.prototype.getMenuProjects=function(){return this.menuProjects},e}(y);var at=function(){var t=function(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),ct=function(t){function e(e){return t.call(this,"All tasks",e)||this}return at(e,t),e.prototype.fetch=function(){return this.todoController.fetchAll()},e}(H),ut=function(){var t=function(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),st=function(t){function e(e){return t.call(this,"Today",e)||this}return ut(e,t),e.prototype.fetch=function(){return this.todoController.fetchByDate(new Date)},e}(H),lt=function(){var t=function(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),pt=function(t){function e(e){return t.call(this,"This week",e)||this}return lt(e,t),e.prototype.fetch=function(){var t=new Date,e=new Date;return e.setDate(t.getDate()+7),this.todoController.fetchByDateRange(t,e)},e}(H),ft=function(){var t=function(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();const dt=function(t){function e(){var e=t.call(this)||this;e.root.setAttribute("id","error-404");var o=document.createElement("h1");o.textContent="404 error";var n=document.createElement("p");return n.textContent="Not found !",e.root.append(o,n),e}return ft(e,t),e.prototype.refresh=function(){},e}(Z);var ht=function(){var t=function(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),yt=function(t){function e(e,o){var n=t.call(this,document.createElement("a"))||this;return n.route=e,n.router=o,n.root.textContent=n.route.name,n.root.setAttribute("href",e.path),n.root.addEventListener("click",(function(t){n.router.switchRouteByPath(e.path),t.preventDefault()})),n}return ht(e,t),e.prototype.getRoute=function(){return this.route},e.prototype.setActive=function(t){var e="active",o=this.root.classList;t?o.add(e):o.remove(e)},e}(y);const vt=yt;var gt=function(){var t=function(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),mt=function(t){function e(){var e=t.call(this,document.createElement("div"))||this;return e.routerLinks=[],e.error404=new dt,e.root.setAttribute("id","router"),e}return gt(e,t),e.prototype.insert=function(){for(var t,e=this,o=[],n=0;n<arguments.length;n++)o[n]=arguments[n];var r=[];return o.forEach((function(t){r.push(new vt(t,e))})),(t=this.routerLinks).push.apply(t,r),r},e.prototype.getByPath=function(t){return this.routerLinks.find((function(e){return e.getRoute().path===t}))},e.prototype.deleteByPath=function(t){var e=this.getByPath(t);return e&&this.routerLinks.splice(this.routerLinks.indexOf(e),1),e},e.prototype.setRoutes=function(t){var e=this,o=[];t.forEach((function(t){o.push(new vt(t,e))})),this.routerLinks=o},e.prototype.switchRouteByPath=function(t){var e=this.getByPath(t);if(this.routerLinks.forEach((function(t){t.setActive(!1)})),e){e.setActive(!0);var o=e.getRoute().page;this.root.replaceChildren(o.getRoot()),o.refresh(),this.changeHashPath(t)}else this.root.replaceChildren(this.error404.getRoot())},e.prototype.changeHashPath=function(t){window.location.hash=t},e.prototype.getHashPath=function(){return window.location.hash.replace("#","")},e.prototype.getRouterLinks=function(){return this.routerLinks},e}(y);const wt=mt;var bt,_t=new it;document.body.appendChild(_t.getRoot());var jt=new wt;_t.getMain().appendChild(jt.getRoot());var Ot=new $(_t.getMenuProjects(),jt),Pt=jt.insert({name:"inbox",path:"/",page:new ct(Ot)},{name:"today",path:"/today",page:new st(Ot)},{name:"this week",path:"/week",page:new pt(Ot)});(bt=_t.getMenu()).insert.apply(bt,Pt);var xt=jt.getHashPath();xt?jt.switchRouteByPath(xt):jt.switchRouteByPath("/")})()})();